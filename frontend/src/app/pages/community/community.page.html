<ion-header [translucent]="true">
  <ion-toolbar>
    <ion-title>
      Comunidad (Usuarios)
    </ion-title>
  </ion-toolbar>
</ion-header>

<ion-content [fullscreen]="true">
  <ion-header collapse="condense">
    <ion-toolbar>
      <ion-title size="large">Comunidad</ion-title>
    </ion-toolbar>
  </ion-header>

  <div class="ion-padding">
    <ion-button expand="full" (click)="loadUsuarios()">Recargar Usuarios</ion-button>
    <ion-button expand="full" (click)="addNewUser()">AÃ±adir Nuevo Usuario (POST)</ion-button>

    <ion-text color="danger" *ngIf="error">
      <p><strong>Error:</strong> {{ error }}</p>
    </ion-text>

    <ion-spinner *ngIf="loading"></ion-spinner>

    <ion-list *ngIf="!loading && !error">
      <ion-item *ngIf="usuarios.length === 0">
        <ion-label>No hay usuarios en la comunidad.</ion-label>
      </ion-item>
      <ion-item *ngFor="let usuario of usuarios">
        <ion-label>
          <h2>{{ usuario.nombre }}</h2>
          <p>Email: {{ usuario.email }}</p>
          <p>Rol: {{ usuario.rol }}</p>
          <p>Puntos: {{ usuario.puntos }}</p>
          <p>ID: {{ usuario.id }}</p>
        </ion-label>
      </ion-item>
    </ion-list>
  </div>
</ion-content>